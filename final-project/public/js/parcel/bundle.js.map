{"mappings":"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","sources":["public/js/index.js","public/js/login.js","public/js/alert.js","public/js/updateSettings.js","public/js/mapbox.js","public/js/bookTour.js","public/js/fetchTours.js","public/js/renderTours.js"],"sourcesContent":["/* eslint-disable */\nimport { signup, login, logout } from './login';\nimport { updateSettings } from './updateSettings';\nimport { displayMap } from './mapbox';\nimport { bookTour } from './bookTour';\nimport { displayAlert } from './alert';\nimport { fetchAndRenderTours } from './fetchTours';\n\nconst mapBox = document.getElementById('map');\nconst loginForm = document.querySelector('.form--login');\nconst signupForm = document.querySelector('.form--signup');\nconst logOutBtn = document.querySelector('.nav__el--logout');\nconst userDataForm = document.querySelector('.form-user-data');\nconst passwordForm = document.querySelector('.form-user-password');\nconst savePasswordBtn = document.querySelector('.btn--save-password');\nconst bookBtn = document.getElementById('book-tour');\nconst toursContainer = document.querySelector('.card-container');\n\nif (mapBox) {\n\tconst locations = JSON.parse(mapBox.dataset.locations);\n\tdisplayMap(locations);\n}\n\nif (loginForm) {\n\tloginForm.addEventListener('submit', (event) => {\n\t\tevent.preventDefault();\n\t\tconst email = document.getElementById('email').value;\n\t\tconst password = document.getElementById('password').value;\n\t\tlogin(email, password);\n\t\tdocument.getElementById('email').value = '';\n\t\tdocument.getElementById('password').value = '';\n\t});\n}\n\nif (signupForm) {\n\tsignupForm.addEventListener('submit', (event) => {\n\t\tevent.preventDefault();\n\t\tconst email = document.getElementById('email').value;\n\t\tconst password = document.getElementById('password').value;\n\t\tconst name = document.getElementById('name').value;\n\t\tsignup(name, email, password);\n\t\tdocument.getElementById('name').value = '';\n\t\tdocument.getElementById('email').value = '';\n\t\tdocument.getElementById('password').value = '';\n\t});\n}\n\nif (logOutBtn) logOutBtn.addEventListener('click', logout);\n\nif (userDataForm) {\n\tuserDataForm.addEventListener('submit', (event) => {\n\t\tevent.preventDefault();\n\t\tconst email = document.getElementById('email').value;\n\t\tconst name = document.getElementById('name').value;\n\t\tupdateSettings({ name, email }, 'data');\n\t});\n}\n\nif (passwordForm) {\n\tpasswordForm.addEventListener('submit', async (event) => {\n\t\tevent.preventDefault();\n\n\t\tsavePasswordBtn.textContent = 'Updating...';\n\t\tconst passwordCurrent = document.getElementById('password-current').value;\n\t\tconst password = document.getElementById('password').value;\n\t\tconst passwordConfirm = document.getElementById('password-confirm').value;\n\t\tawait updateSettings(\n\t\t\t{ passwordCurrent, password, passwordConfirm },\n\t\t\t'password',\n\t\t);\n\t\tsavePasswordBtn.textContent = 'Save password';\n\t\tdocument.getElementById('password-current').value = '';\n\t\tdocument.getElementById('password').value = '';\n\t\tdocument.getElementById('password-confirm').value = '';\n\t});\n}\n\nif (bookBtn) {\n\tbookBtn.addEventListener('click', async ({ currentTarget: button }) => {\n\t\tconst setButtonState = (text) => (button.textContent = text);\n\n\t\ttry {\n\t\t\tsetButtonState('Processing...');\n\t\t\tawait new Promise((resolve) => setTimeout(resolve, 3000));\n\t\t\tawait bookTour();\n\t\t} catch (error) {\n\t\t\tconsole.error('Booking failed:', error);\n\t\t} finally {\n\t\t\tsetButtonState('Book tour now!');\n\t\t}\n\t});\n}\n\nconst alertMessage = document.querySelector('body').dataset.alert;\nif (alertMessage) displayAlert('success', alertMessage, 10);\n\n\n\nif (toursContainer) {\n\tfetchAndRenderTours();\n}\n","/* eslint-disable */\nimport { displayAlert } from './alert';\n\nexport const signup = async (name, email, password) => {\n\ttry {\n\t\tconst res = await fetch('/api/v1/users/signup', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({ name, email, password }),\n\t\t});\n\n\t\tconst data = await res.json();\n\n\t\tif (res.ok && data.status === 'success') {\n\t\t\tdisplayAlert('success', 'Logged in successfully!');\n\t\t\twindow.setTimeout(() => {\n\t\t\t\tlocation.assign('/');\n\t\t\t}, 1500);\n\t\t} else {\n\t\t\tthrow new Error(data.message);\n\t\t}\n\t} catch (err) {\n\t\tdisplayAlert('error', err.message);\n\t}\n};\n\nexport const login = async (email, password) => {\n\ttry {\n\t\tconst res = await fetch('/api/v1/users/login', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify({ email, password }),\n\t\t});\n\n\t\tconst data = await res.json();\n\n\t\tif (res.ok && data.status === 'success') {\n\t\t\tdisplayAlert('success', 'Logged in successfully!');\n\t\t\twindow.setTimeout(() => {\n\t\t\t\tlocation.assign('/');\n\t\t\t}, 1500);\n\t\t} else {\n\t\t\tthrow new Error(data.message);\n\t\t}\n\t} catch (err) {\n\t\tdisplayAlert('error', err.message);\n\t}\n};\n\nexport const logout = async () => {\n\ttry {\n\t\tconst res = await fetch('/api/v1/users/logout', {\n\t\t\tmethod: 'GET',\n\t\t});\n\n\t\tconst data = await res.json();\n\n\t\tif (res.ok && data.status === 'success') {\n\t\t\twindow.setTimeout(() => {\n\t\t\t\tlocation.assign('/');\n\t\t\t}, 1500);\n\t\t\t// location.reload(true);\n\t\t} else {\n\t\t\tthrow new Error('Error during logout');\n\t\t}\n\t} catch (err) {\n\t\tconsole.log(err);\n\t\tdisplayAlert('error', 'Error Logged Out! Try Again!');\n\t}\n};\n","/*eslint-disable */\r\n\r\nexport const hideAlert = () => {\r\n  const el = document.querySelector('.alert');\r\n  if (el) el.parentElement.removeChild(el);\r\n};\r\n\r\nexport const displayAlert = (type, msg, time = 7) => {\r\n\thideAlert();\r\n\tconst markup = `<div class=\"alert alert--${type}\">${msg}</div>`;\r\n\tdocument.querySelector('body').insertAdjacentHTML('afterbegin', markup);\r\n\twindow.setTimeout(hideAlert, time * 1000);\r\n};\r\n","/* eslint-disable */\nimport { displayAlert } from './alert';\n\nexport const updateSettings = async (data, type) => {\n\ttry {\n\t\tconst dataType =\n\t\t\ttype.trim().toLowerCase().charAt(0).toUpperCase() + type.slice(1);\n\t\tconst url = `/api/v1/users/${\n\t\t\tdataType === 'Password' ? 'updateMyPassword' : 'updateMe'\n\t\t}`;\n\n\t\tif (dataType !== 'Password' && dataType !== 'Data') {\n\t\t\treturn displayAlert('error', 'Invalid type provided!');\n\t\t}\n\n\t\tconst res = await fetch(url, {\n\t\t\tmethod: 'PATCH',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t});\n\n\t\tconst responseData = await res.json();\n\n\t\tif (res.ok && responseData.status === 'success') {\n\t\t\tdisplayAlert('success', `${dataType} updated successfully!`);\n\t\t\t// location.reload(true);\n\t\t} else {\n\t\t\tthrow new Error(responseData.message || 'Error updating data!');\n\t\t}\n\t} catch (err) {\n\t\tdisplayAlert('error', err.message);\n\t}\n};\n","/*eslint-disable */\n\nconst MAPBOX_ACCESS_TOKEN =\n\t'pk.eyJ1Ijoidml2YXZpa3RvcnlpYSIsImEiOiJjbHo4ZXczZ2cwMDUwMmtzYTByNmVqenJwIn0.Dl-Sgygd-puOem9UETCBjg';\n\nexport const displayMap = (locations) => {\n\tmapboxgl.accessToken = MAPBOX_ACCESS_TOKEN;\n\n\tconst map = new mapboxgl.Map({\n\t\tcontainer: 'map',\n\t\tstyle: 'mapbox://styles/mapbox/navigation-day-v1',\n\t\tscrollZoom: false,\n\t});\n\n\tconst bounds = new mapboxgl.LngLatBounds();\n\n  locations.forEach((loc, index) => {\n    const dayNumber = index + 1;\n\t\t// Extract coordinates if they're inside a GeoJSON Point object\n\t\tconst coordinates =\n\t\t\tloc.coordinates && loc.coordinates.type === 'Point'\n\t\t\t\t? loc.coordinates.coordinates\n\t\t\t\t: loc.coordinates;\n\n\t\tif (coordinates && !isNaN(coordinates[0]) && !isNaN(coordinates[1])) {\n\t\t\t// Create marker\n\t\t\tconst el = document.createElement('div');\n\t\t\tel.className = 'marker';\n\n\t\t\t// Add marker\n\t\t\tnew mapboxgl.Marker({\n\t\t\t\telement: el,\n\t\t\t\tanchor: 'bottom',\n\t\t\t})\n\t\t\t\t.setLngLat(coordinates)\n\t\t\t\t.addTo(map);\n\n\t\t\t// Add popup\n\t\t\tnew mapboxgl.Popup({\n\t\t\t\toffset: 30,\n\t\t\t})\n\t\t\t\t.setLngLat(coordinates)\n\t\t\t\t.setHTML(`<p>Day ${dayNumber}: ${loc.description}  </p>`)\n\t\t\t\t.addTo(map);\n\n\t\t\tbounds.extend(coordinates);\n\t\t} else {\n\t\t\tconsole.error('Invalid coordinates:', coordinates);\n\t\t}\n\t});\n\n\tmap.fitBounds(bounds, {\n\t\tpadding: {\n\t\t\ttop: 200,\n\t\t\tbottom: 200,\n\t\t\tleft: 100,\n\t\t\tright: 100,\n\t\t},\n\t});\n};\n","/* eslint-disable */\nimport { displayAlert } from './alert';\n\nexport const bookTour = async () => {\n\ttry {\n\t\tconst response = await fetch('/api/v1/bookings', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t});\n\n\t\tconst responseData = await response.json();\n\n\t\tif (response.ok && responseData.status === 'success') {\n\t\t\tdisplayAlert('success', 'Booking is successful!');\n\t\t\tsetTimeout(() => location.assign('/'), 1500);\n\t\t} else if (response.status === 409) {\n\t\t\tthrow new Error('No spots available for booking at the moment!🙃');\n\t\t} else {\n\t\t\tthrow new Error(responseData.message || 'Booking failed');\n\t\t}\n\t} catch (error) {\n\t\tconsole.error('Error during booking:', error);\n\n\t\tdisplayAlert(\n\t\t\t'error',\n\t\t\terror.message || 'Something went wrong, please try again.',\n\t\t);\n\n\t\tthrow error;\n\t}\n};\n","import { displayAlert } from './alert';\r\nimport { renderTours } from './renderTours';\r\n\r\nexport const fetchAndRenderTours = async () => {\r\n\ttry {\r\n\t\tconst response = await fetch('/api/v1/tours');\r\n\r\n\t\tif (!response.ok) {\r\n\t\t\tthrow new Error(`Error: ${response.statusText}`);\r\n\t\t}\r\n\r\n\t\tconst responseData = await response.json();\r\n\r\n\t\trenderTours(responseData.data);\r\n\t} catch (error) {\r\n\t\tdisplayAlert('error', error.message);\r\n\t}\r\n};\r\n","export const renderTours = (tours) => {\r\n\tconst cardContainer = document.querySelector('.card-container');\r\n\ttours.forEach((tour) => {\r\n\t\tconst tourElement = document.createElement('div');\r\n\t\ttourElement.classList.add('card');\r\n\r\n\t\ttourElement.innerHTML = `\r\n            <div class=\"card__header\">\r\n                <div class=\"card__picture\">\r\n                    <div class=\"card__picture-overlay\">&nbsp;</div>\r\n                    <img class=\"card__picture-img\" src=\"/img/tours/${\r\n\t\t\t\t\t\t\t\t\t\t\ttour.imageCover || 'default-cover.jpg'\r\n\t\t\t\t\t\t\t\t\t\t}\" alt=\"${tour.name}\" />\r\n                </div>\r\n                <h3 class=\"heading-tertirary\">\r\n                    <span>${tour.name}</span>\r\n                </h3>\r\n            </div>\r\n\r\n            <div class=\"card__details\">\r\n                <h4 class=\"card__sub-heading\">${tour.difficulty} ${\r\n\t\t\ttour.duration\r\n\t\t}-day tour</h4>\r\n                <p class=\"card__text\">${tour.summary}</p>\r\n                <div class=\"card__data\">\r\n                    <svg class=\"card__icon\">\r\n                        <use xlink:href=\"/img/icons.svg#icon-map-pin\"></use>\r\n                    </svg>\r\n                    <span>${\r\n\t\t\t\t\t\t\t\t\t\t\ttour.locations && tour.locations[0]\r\n\t\t\t\t\t\t\t\t\t\t\t\t? tour.locations[0].description\r\n\t\t\t\t\t\t\t\t\t\t\t\t: 'No location available'\r\n\t\t\t\t\t\t\t\t\t\t}</span>\r\n                </div>\r\n                <div class=\"card__data\">\r\n                    <svg class=\"card__icon\">\r\n                        <use xlink:href=\"/img/icons.svg#icon-calendar\"></use>\r\n                    </svg>\r\n                    <span>${new Date(tour.startDate).toLocaleString('en-us', {\r\n\t\t\t\t\t\t\t\t\t\t\tmonth: 'long',\r\n\t\t\t\t\t\t\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\t\t\t\t\t\t})}</span>\r\n                </div>\r\n                <div class=\"card__data\">\r\n                    <svg class=\"card__icon\">\r\n                        <use xlink:href=\"/img/icons.svg#icon-flag\"></use>\r\n                    </svg>\r\n                    <span>${tour.locations.length} ${\r\n\t\t\ttour.locations.length === 1 ? 'stop' : 'stops'\r\n\t\t}</span>\r\n                </div>\r\n                <div class=\"card__data\">\r\n                    <svg class=\"card__icon\">\r\n                        <use xlink:href=\"/img/icons.svg#icon-user\"></use>\r\n                    </svg>\r\n                    <span>${tour.maxGroupSize} people</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"card__footer\">\r\n                <p>\r\n                    <span class=\"card__footer-value\">$${tour.price}</span> \r\n                    <span class=\"card__footer-text\"> per person</span>\r\n                </p>\r\n                <p class=\"card__ratings\">\r\n                    <span class=\"card__footer-value\">${\r\n\t\t\t\t\t\t\t\t\t\t\ttour.ratingsAverage\r\n\t\t\t\t\t\t\t\t\t\t}</span> \r\n                    <span class=\"card__footer-text\">rating (${\r\n\t\t\t\t\t\t\t\t\t\t\ttour.ratingsQuantity\r\n\t\t\t\t\t\t\t\t\t\t})</span>\r\n                </p>\r\n                <a class=\"btn btn--green btn--small\" href=\"/tour/${\r\n\t\t\t\t\t\t\t\t\ttour.slug\r\n\t\t\t\t\t\t\t\t}\">Details</a>\r\n            </div>\r\n        `;\r\n\r\n\t\tcardContainer.appendChild(tourElement);\r\n\t});\r\n};\r\n"],"names":[],"version":3,"file":"bundle.js.map","sourceRoot":"../../../"}